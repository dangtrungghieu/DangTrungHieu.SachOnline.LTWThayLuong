@model IEnumerable<DangTrungHieu.SachOnline.Models.MENU>
@{
    int i = 0;
}

<ul class="dropdown-menu">
    @foreach (var item in Model)
    {
        var childCount = ViewBag.ChildCounts.ContainsKey(item.Id) ? ViewBag.ChildCounts[item.Id] : 0;

        if (childCount != 0)
        {
            <li class="dropdown-submenu">
                <a href="#" class="test list-group-item">
                    @item.MenuName <span class="caret"></span>
                </a>
                @Html.Action("LoadChildMenu", "SachOnline", new { parentId = item.Id })
            </li>
        }
        else
        {
            if (item.MenuLink.Contains("://"))
            {
                <li><a href="@item.MenuLink">@item.MenuName</a></li>
            }
            else
            {
                <li><a href="~/@item.MenuLink">@item.MenuName</a></li>
            }
        }

        i++;
    }
</ul>
